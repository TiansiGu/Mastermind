{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tiansigu/Documents/CS514/Project4/react-gcp-app-engine/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tiansigu/Documents/CS514/Project4/react-gcp-app-engine/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tiansigu/Documents/CS514/Project4/react-gcp-app-engine/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faArrowLeft,faTrash}from\"@fortawesome/free-solid-svg-icons\";import{Container,Row,Col}from\"react-bootstrap\";import\"./GameRecord.css\";// Import your custom CSS file for styling\nimport axios from\"axios\";import Pagination from\"../Components/Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function GameRecord(_ref){var onGamePageChange=_ref.onGamePageChange,userId=_ref.userId;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),selectedComponent=_useState2[0],setSelectedComponent=_useState2[1];//true represents diplaying userRecords\n// A list of gameRecords fetched by a specific userId\n// eg: [ { id: 5138716758638592, score: 120, date: \"2023-01-15\" },\n// { id: 5631671361601537, score: 90, date: \"2023-01-10\" }, ...]\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userScores=_useState4[0],setUserScores=_useState4[1];// A list of all the gameRecords fetched by findAll()\n//eg: [ { userid: \"123\", username: \"JohnDoe\", score: 150, date: \"2023-01-15\" },\n// { userid: \"456\", username: \"David\", score: 140, date: \"2023-02-12\" }, ...]\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),highScores=_useState6[0],setHighScores=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];// function to call API to get the user's game records from DB\nfunction getUserScores(){return _getUserScores.apply(this,arguments);}function _getUserScores(){_getUserScores=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"https://mastermind-backend-tiansi.wl.r.appspot.com/game/findByUserId?userId=\".concat(userId,\"&page=\").concat(page,\"&size=\").concat(size));case 3:response=_context3.sent;setUserScores(response.data);setLoading(false);_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);setError(_context3.t0.message);setLoading(false);case 12:case\"end\":return _context3.stop();}},_callee3,null,[[0,8]]);}));return _getUserScores.apply(this,arguments);}function getUserScores1(_x){return _getUserScores2.apply(this,arguments);}// function to call API to get all the game records\nfunction _getUserScores2(){_getUserScores2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(p){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"https://mastermind-backend-tiansi.wl.r.appspot.com/game/findByUserId?userId=\".concat(userId,\"&page=\").concat(p,\"&size=\").concat(size));case 3:response=_context4.sent;setUserScores(response.data);setLoading(false);_context4.next=12;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);setError(_context4.t0.message);setLoading(false);case 12:case\"end\":return _context4.stop();}},_callee4,null,[[0,8]]);}));return _getUserScores2.apply(this,arguments);}function getHighScores(){return _getHighScores.apply(this,arguments);}function _getHighScores(){_getHighScores=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var response,highScorePromises,highScoresWithNames;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.get(\"https://mastermind-backend-tiansi.wl.r.appspot.com/game/findAllRecords?page=\".concat(page,\"&size=\").concat(size));case 3:response=_context6.sent;// Fetch userName for each userId in highScores\nhighScorePromises=response.data.map(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(highScore){var user;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(\"https://mastermind-backend-tiansi.wl.r.appspot.com/user/findByUserId?userId=\".concat(highScore.userId,\"&page=\").concat(page,\"&size=\").concat(size));case 2:user=_context5.sent;return _context5.abrupt(\"return\",{id:highScore.id,userId:highScore.userId,userName:user.data.handle,score:highScore.score,date:highScore.date});case 4:case\"end\":return _context5.stop();}},_callee5);}));return function(_x3){return _ref4.apply(this,arguments);};}());// Wait for all promises to resolve\n_context6.next=7;return Promise.all(highScorePromises);case 7:highScoresWithNames=_context6.sent;setHighScores(highScoresWithNames);_context6.next=14;break;case 11:_context6.prev=11;_context6.t0=_context6[\"catch\"](0);setError(_context6.t0.message);case 14:case\"end\":return _context6.stop();}},_callee6,null,[[0,11]]);}));return _getHighScores.apply(this,arguments);}var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),numOfRecordByUserId=_useState12[0],setNumOfRecordByUserId=_useState12[1];var _useState13=useState(1),_useState14=_slicedToArray(_useState13,2),numOfAllRecord=_useState14[0],setNumOfAllRecord=_useState14[1];var getNumOfRecordByUserId=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://mastermind-backend-tiansi.wl.r.appspot.com/game/findUserIdCount?userId=\".concat(userId));case 3:response=_context.sent;// console.log(response.data);\nsetNumOfRecordByUserId(response.data);return _context.abrupt(\"return\",response.data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getNumOfRecordByUserId(){return _ref2.apply(this,arguments);};}();var getNumOfAllRecord=function getNumOfAllRecord(){axios.get(\"https://mastermind-backend-tiansi.wl.r.appspot.com/game/findRecordCount\").then(function(response){setNumOfAllRecord(response.data);}).catch(function(error){setError(error.message);});};// pagination control\nvar _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),page=_useState16[0],setPage=_useState16[1];var _useState17=useState(20),_useState18=_slicedToArray(_useState17,2),size=_useState18[0],setSize=_useState18[1];var handlePageChange=function handlePageChange(page){setPage(page);};var handleSizeChange=function handleSizeChange(size){setSize(size);setPage(0);// Reset to the first page when changing items per page\n};useEffect(function(){// call the function that fetch data from DB\ngetNumOfRecordByUserId();getNumOfAllRecord();getUserScores();getHighScores();},[selectedComponent,page,size]);useEffect(function(){setPage(0);},[selectedComponent]);var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var preNum,response,num;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(\"Delete the game record with id \"+id);//delete function to be implemented\n_context2.prev=1;preNum=numOfRecordByUserId;console.log(\"The total before delete is \"+preNum);_context2.next=6;return axios.delete(\"https://mastermind-backend-tiansi.wl.r.appspot.com/game/deleteById?id=\".concat(id));case 6:response=_context2.sent;console.log(\"Game record deleted successfully:\",response.data);//try to deal with edge case 11 - 1 = 10\n_context2.next=10;return getNumOfRecordByUserId();case 10:num=_context2.sent;// console.log(\"The total after delete is \" + num);\n// console.log(page > Math.ceil(num / size) - 1);\nif(page>Math.ceil(num/size)-1){getUserScores1(page-1);setPage(page-1);console.log(\"We are in page \"+page);}else{getUserScores();}_context2.next=17;break;case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](1);setError(_context2.t0.message);case 17:case\"end\":return _context2.stop();}},_callee2,null,[[1,14]]);}));return function handleDelete(_x2){return _ref3.apply(this,arguments);};}();if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"game-record-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"back-container\",onClick:onGamePageChange,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowLeft,size:\"2x\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Game Record List is coming soon\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"select-container\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:selectedComponent?\"userScores\":\"highScores\",onChange:function onChange(){return setSelectedComponent(!selectedComponent);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"userScores\",children:\"Your Own Scores\"}),/*#__PURE__*/_jsx(\"option\",{value:\"highScores\",children:\"All High Scores\"})]})}),selectedComponent&&/*#__PURE__*/_jsx(\"div\",{className:\"score-container\",children:userScores.map(function(userScore){return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:userScore.score}),/*#__PURE__*/_jsx(Col,{children:userScore.date}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash,onClick:function onClick(){return handleDelete(userScore.id);},style:{cursor:\"pointer\"}})})]},userScore.id);})}),!selectedComponent&&/*#__PURE__*/_jsxs(\"div\",{className:\"score-container\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"UserID\"})}),\" \",/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Username\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Score\"})}),\" \",/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Date\"})})]}),highScores.map(function(highScore){return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:highScore.userId}),\" \",/*#__PURE__*/_jsx(Col,{children:highScore.userName}),\" \",/*#__PURE__*/_jsx(Col,{children:highScore.score}),/*#__PURE__*/_jsx(Col,{children:highScore.date})]},highScore.id);})]})]}),/*#__PURE__*/_jsx(Pagination,{activePage:page,itemsPerPage:size,totalItems:selectedComponent?numOfRecordByUserId:numOfAllRecord,onPageChange:handlePageChange,onItemsPerPageChange:handleSizeChange,select:selectedComponent})]});}export default GameRecord;","map":{"version":3,"names":["React","useEffect","useState","FontAwesomeIcon","faArrowLeft","faTrash","Container","Row","Col","axios","Pagination","jsx","_jsx","jsxs","_jsxs","GameRecord","_ref","onGamePageChange","userId","_useState","_useState2","_slicedToArray","selectedComponent","setSelectedComponent","_useState3","_useState4","userScores","setUserScores","_useState5","_useState6","highScores","setHighScores","_useState7","_useState8","loading","setLoading","_useState9","_useState10","error","setError","getUserScores","_getUserScores","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","response","wrap","_callee3$","_context3","prev","next","get","concat","page","size","sent","data","t0","message","stop","getUserScores1","_x","_getUserScores2","_callee4","p","_callee4$","_context4","getHighScores","_getHighScores","_callee6","highScorePromises","highScoresWithNames","_callee6$","_context6","map","_ref4","_callee5","highScore","user","_callee5$","_context5","abrupt","id","userName","handle","score","date","_x3","Promise","all","_useState11","_useState12","numOfRecordByUserId","setNumOfRecordByUserId","_useState13","_useState14","numOfAllRecord","setNumOfAllRecord","getNumOfRecordByUserId","_ref2","_callee","_callee$","_context","getNumOfAllRecord","then","catch","_useState15","_useState16","setPage","_useState17","_useState18","setSize","handlePageChange","handleSizeChange","handleDelete","_ref3","_callee2","preNum","num","_callee2$","_context2","console","log","delete","Math","ceil","_x2","children","className","onClick","icon","value","onChange","userScore","style","cursor","activePage","itemsPerPage","totalItems","onPageChange","onItemsPerPageChange","select"],"sources":["/Users/tiansigu/Documents/CS514/Project4/react-gcp-app-engine/src/Pages/GameRecord.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport \"./GameRecord.css\"; // Import your custom CSS file for styling\nimport axios from \"axios\";\n\nimport Pagination from \"../Components/Pagination\";\n\nfunction GameRecord({ onGamePageChange, userId }) {\n  const [selectedComponent, setSelectedComponent] = useState(true); //true represents diplaying userRecords\n\n  // A list of gameRecords fetched by a specific userId\n  // eg: [ { id: 5138716758638592, score: 120, date: \"2023-01-15\" },\n  // { id: 5631671361601537, score: 90, date: \"2023-01-10\" }, ...]\n  const [userScores, setUserScores] = useState(null);\n  // A list of all the gameRecords fetched by findAll()\n  //eg: [ { userid: \"123\", username: \"JohnDoe\", score: 150, date: \"2023-01-15\" },\n  // { userid: \"456\", username: \"David\", score: 140, date: \"2023-02-12\" }, ...]\n  const [highScores, setHighScores] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // function to call API to get the user's game records from DB\n  async function getUserScores() {\n    try {\n      const response = await axios.get(\n        `https://mastermind-backend-tiansi.wl.r.appspot.com/game/findByUserId?userId=${userId}&page=${page}&size=${size}`\n      );\n      setUserScores(response.data);\n      setLoading(false);\n    } catch (error) {\n      setError(error.message);\n      setLoading(false);\n    }\n  }\n\n  async function getUserScores1(p) {\n    try {\n      const response = await axios.get(\n        `https://mastermind-backend-tiansi.wl.r.appspot.com/game/findByUserId?userId=${userId}&page=${p}&size=${size}`\n      );\n      setUserScores(response.data);\n      setLoading(false);\n    } catch (error) {\n      setError(error.message);\n      setLoading(false);\n    }\n  }\n\n  // function to call API to get all the game records\n  async function getHighScores() {\n    try {\n      const response = await axios.get(\n        `https://mastermind-backend-tiansi.wl.r.appspot.com/game/findAllRecords?page=${page}&size=${size}`\n      );\n\n      // Fetch userName for each userId in highScores\n      const highScorePromises = response.data.map(async (highScore) => {\n        const user = await axios.get(\n          `https://mastermind-backend-tiansi.wl.r.appspot.com/user/findByUserId?userId=${highScore.userId}&page=${page}&size=${size}`\n        );\n        return {\n          id: highScore.id,\n          userId: highScore.userId,\n          userName: user.data.handle,\n          score: highScore.score,\n          date: highScore.date,\n        };\n      });\n\n      // Wait for all promises to resolve\n      const highScoresWithNames = await Promise.all(highScorePromises);\n      setHighScores(highScoresWithNames);\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  const [numOfRecordByUserId, setNumOfRecordByUserId] = useState(1);\n  const [numOfAllRecord, setNumOfAllRecord] = useState(1);\n\n  const getNumOfRecordByUserId = async () => {\n    try {\n      // console.log(\"start axios request\");\n      const response = await axios.get(\n        `https://mastermind-backend-tiansi.wl.r.appspot.com/game/findUserIdCount?userId=${userId}`\n      );\n      // console.log(response.data);\n      setNumOfRecordByUserId(response.data);\n      return response.data;\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  const getNumOfAllRecord = () => {\n    axios\n      .get(\n        `https://mastermind-backend-tiansi.wl.r.appspot.com/game/findRecordCount`\n      )\n      .then((response) => {\n        setNumOfAllRecord(response.data);\n      })\n      .catch((error) => {\n        setError(error.message);\n      });\n  };\n\n  // pagination control\n  const [page, setPage] = useState(0);\n  const [size, setSize] = useState(20);\n\n  const handlePageChange = (page) => {\n    setPage(page);\n  };\n\n  const handleSizeChange = (size) => {\n    setSize(size);\n    setPage(0); // Reset to the first page when changing items per page\n  };\n\n  useEffect(() => {\n    // call the function that fetch data from DB\n    getNumOfRecordByUserId();\n    getNumOfAllRecord();\n    getUserScores();\n    getHighScores();\n  }, [selectedComponent, page, size]);\n\n  useEffect(() => {\n    setPage(0);\n  }, [selectedComponent]);\n\n  const handleDelete = async (id) => {\n    console.log(\"Delete the game record with id \" + id);\n    //delete function to be implemented\n    try {\n      const preNum = numOfRecordByUserId;\n      console.log(\"The total before delete is \" + preNum);\n      const response = await axios.delete(\n        `https://mastermind-backend-tiansi.wl.r.appspot.com/game/deleteById?id=${id}`\n      );\n      console.log(\"Game record deleted successfully:\", response.data);\n\n      //try to deal with edge case 11 - 1 = 10\n      const num = await getNumOfRecordByUserId();\n      // console.log(\"The total after delete is \" + num);\n      // console.log(page > Math.ceil(num / size) - 1);\n      if (page > Math.ceil(num / size) - 1) {\n        getUserScores1(page - 1);\n        setPage(page - 1);\n        console.log(\"We are in page \" + page);\n      } else {\n        getUserScores();\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n\n  return (\n    <Container>\n      <div className=\"game-record-container\">\n        <div className=\"back-container\" onClick={onGamePageChange}>\n          <FontAwesomeIcon icon={faArrowLeft} size=\"2x\" />\n          <p>Game Record List is coming soon</p>\n        </div>\n        <div className=\"select-container\">\n          {/* Dropdown to select the component */}\n          <select\n            className=\"form-select\"\n            value={selectedComponent ? \"userScores\" : \"highScores\"}\n            onChange={() => setSelectedComponent(!selectedComponent)}\n          >\n            <option value=\"userScores\">Your Own Scores</option>\n            <option value=\"highScores\">All High Scores</option>\n          </select>\n        </div>\n        {/* UserScores component */}\n        {selectedComponent && (\n          <div className=\"score-container\">\n            {userScores.map((userScore) => (\n              <Row key={userScore.id}>\n                <Col>{userScore.score}</Col>\n                <Col>{userScore.date}</Col>\n                <Col>\n                  {/* Add a delete icon with an onClick handler */}\n                  <FontAwesomeIcon\n                    icon={faTrash}\n                    onClick={() => handleDelete(userScore.id)}\n                    style={{ cursor: \"pointer\" }}\n                  />\n                </Col>\n              </Row>\n            ))}\n          </div>\n        )}\n        {/* HighScores component */}\n        {!selectedComponent && (\n          <div className=\"score-container\">\n            {/* <h2>High Scores</h2> */}\n            <Row>\n              <Col>\n                <strong>UserID</strong>\n              </Col>{\" \"}\n              <Col>\n                <strong>Username</strong>\n              </Col>\n              <Col>\n                <strong>Score</strong>\n              </Col>{\" \"}\n              <Col>\n                <strong>Date</strong>\n              </Col>\n            </Row>\n            {highScores.map((highScore) => (\n              <Row key={highScore.id}>\n                <Col>{highScore.userId}</Col> <Col>{highScore.userName}</Col>{\" \"}\n                <Col>{highScore.score}</Col>\n                <Col>{highScore.date}</Col>\n              </Row>\n            ))}\n          </div>\n        )}\n      </div>\n      <Pagination\n        activePage={page}\n        itemsPerPage={size}\n        totalItems={selectedComponent ? numOfRecordByUserId : numOfAllRecord}\n        onPageChange={handlePageChange}\n        onItemsPerPageChange={handleSizeChange}\n        select={selectedComponent}\n      />\n    </Container>\n  );\n}\n\nexport default GameRecord;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}